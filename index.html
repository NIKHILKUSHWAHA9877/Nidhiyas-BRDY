<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://fonts.googleapis.com/css2?family=Audiowide&family=Bangers&family=Bungee+Inline&family=Holtwood+One+SC&family=Jockey+One&family=Montserrat+Subrayada&family=Montserrat:ital,wght@0,300;1,500&family=Press+Start+2P&family=Prompt&family=Tomorrow:wght@300&family=Ultra&display=swap" rel="stylesheet">
    <link rel="icon" href="fav.ico" type="image/x-icon">
    <link rel="shortcut icon" href="fav.ico" type="image/x-icon">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,500;0,800;0,900;1,600&display=swap" rel="stylesheet">
    

    <link rel="stylesheet"  href="style.css"/>
    <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins"> -->
</head>
<body>
    

  <div class="mobile-warning">
    <p>Oops! It's the witch's birthday, and she doesn't like small devices! Grab your laptop, you lazy wizard and get real experience  ALSO NO CHEAT WITH DESKTOP VIEW 😤!</p>
  </div>
  <div class="main_body">
      <p class="ass">Why everyone are shaking their ass🍑 <br>because its birthday of a ___😂</p>

      <!-- <h4 > <a   style="color: white;">Happy Landing Day To Strongest Queen</a></h4> -->

       <!-- <a   style="color: white;">Happy Landing Day To Strongest Queen</a> -->

       <h4 > <div class="text text-1">Happy</div><div class="text text-2">Landing Day</div><div class="text text-3">To</div><div class="text text-4">Strongest Queen</div><div class="text text-2">.</div></h4>


       <div class="blessing"> <div class="text blessing text-3">22</div><div class="text blessing text-2">Years ago</div><div class="text blessing text-3">a</div><div class="text blessing text-4">blessing was born</div><div class="text blessing text-2"></div></div>


        <audio-player  title="Some thoughts in ALIEN language👽👽 #saytamSirLevelMotivation"
      src="whatsapp-audio-2024-01-07-at-25331-pm_Kr81kSlM.aac"
      bar-width="5"
      bar-gap="2"
      preload autoplay  
       ></audio-player>

    <div class="flip">
        <div class="front" style="background-image: url(1.jpeg)">
           <h1 class="text-shadow">Hi ❤️</hi>
        </div>
        <div class="back">
          
           <p class="backFont_1 backfont">Happiest birthday to the person whom I love the Most in this whole wide world.. 💖🤞✨....I m soo grateful for your presence in my life and I promise that I will do everything to keep u the Happiest...🥺💫....<br>
                 --ROLI😌</p>
        </div>
    </div>
    <div class="flip">
        <div class="front front_2" style="background-image: url(2.jpeg)">
           <h1 class="text-shadow">Hello 😊</hi>
        </div>
        <div class="back">
           
           <p class="backFont_2 backfont">Happiest Birthday to this item who is troublemaker for herself 🫠😑 and also the biggest overthinker.Overthinker Ammmm, Ha i am totally correct 😤 iss ke liye effort dalo kuch bhi toh i know hamesha sochti haii ye sala itna kar kyo raha hai mere liye ,Anyways i luv thisssss i luv this tu kar jo marji mujee kyaaaaa nikallll....<br>
            ---Nikhil😎  
           </p>
        </div>
    </div>
    <div class="flip">
        <div class="front front_3" style="background-image: url(WhatsApp\ Image\ 2024-01-02\ at\ 9.29.13\ PM\ \(1\).jpeg)">
           <h1 class="text-shadow">Umm 😳</hi>
        </div>
        <div class="back">
           
           <p class="backFont_3 backfont">Kinni cute pic hai yarr yee OLEE LEE LEE 💀<br>
            Once again yarr i reflect on the countless hours we've spent talking, chatting, fighting, and sharing every profound aspect of our lives, I can't help but appreciate the depth of our connection. Writing this, I find myself reminiscing about all the phases we've gone through – the deep conversations, the gossip sessions, and everything in between.

On your birthday, I want to express my gratitude for being there for me in every phase of my life. Thank you, dear friend. Dudiee, luv ju!💖<br> 😏 not for those kands.<br>
---NIKHIL🙃.
             
          </p>
        </div>
    </div>
    
    <br>
    <br>
    
    <!-- vertical -->
      
    
    <div class="flip flip-vertical">
        <div class="front front_4" style="background-image: url(WhatsApp\ Image\ 2024-01-02\ at\ 9.29.13\ PM\ \(2\).jpeg) " >
           <h1 class="text-shadow">Yoo🎸 </hi>
        </div>
        <div class="back">
          
           <p class="backFont_4 backfont">I always wish for only the very best in life for you, my dear..🫂🫂<br>
            --ROLI🦄</p>
        </div>
    </div>
    <div class="flip flip-vertical">
        <div class="front front_5" style="background-image: url(WhatsApp\ Image\ 2024-01-02\ at\ 9.29.13\ PM\ \(3\).jpeg)">
          
           <h1 class="text-shadow">Chill🥶</hi>
        </div>
        <div class="back">
         
           <p class="backFont_5 backfont">Meanwhile this is my fav photo of you🥶<br>... Yarr🫠 you look So hot in small hairs 😚. <br> badee hairs mai toh tu sacchi bilkul aunty lagti hai 30 years ki. Anyways -> happy birthday from this South delhi boy you know what' we beleive in creating memories even my whole family. So i hope for many more memories with you 💖 <br>
          ---Nikhil💪</p>
        </div>
    </div>
    <div class="flip flip-vertical">
        <div class="front front_6" style="background-image: url( WhatsApp\ Image\ 2024-01-02\ at\ 9.29.11\ PM.jpeg)">

         
           <h1 class="text-shadow">Awww🥰</hi>
        </div>
        <div class="back">
         
           <p class="backFont_6 backfont">On your birthday🎂🎂, I pray that God blesses you with all the good things in life - health, wealth, happiness, and success. May your dreams come true and may you achieve all that you set out to do ✨🥰👀<br>
          --ROLIII👻</p>
        </div>

    </div>



        <div class="flip flip-vertical">
            <div class="front front_7" style="background-image: url(devil.jpeg)">
               <h1 class="text-shadow">Chall chad 😂</hi>
            </div>
            <div class="back">
              
               <p class="backFont_7 backfont">We’ve made so many wonderful memories together.... Cheers to many more🥂 Happy birthday sweetheart!🥹🫂 <br>
              --ROLI💖</p>
            </div>
        </div>
        <div class="flip flip-vertical">
            <div class="front front_8" style="background-image: url(WhatsApp\ Image\ 2024-01-02\ at\ 9.29.09\ PM.jpeg)">
              
               <h1 class="text-shadow">Bidhuu 🫂</hi>
            </div>
            <div class="back">
             
               <p class="quora">Mai roota tum bhi rooth gayi to manayaga kon <br>
                Mai chup tum bhi chup toh iss chupppi ko todega kon 🙉<br>
                Ajjj darar hai kal khayi hogi to issko bheraga kon 😌<br>
                Ye zindgi choti hai dost kal ham dono mai sai ek na raha to ek dusre ko yadd karega kon😌🫠<br>
                ----QUORA
                </p>
            </div>
        </div>
        <div class="flip flip-vertical">
            <div class="front front_9" style="background-image: url(
            WhatsApp\ Image\ 2024-01-02\ at\ 9.29.10\ PM.jpeg)">
               <h1 class="text-shadow">Dassa tenu 😏</hi>
            </div>
            <div class="back">
              
               <p class="backFont_9 backfont">Ammmm 🤔 Nidhi uk on you HBD i want to say this 👉👈<br>I love you so much that I want to make a maze or perhaps an abundant factory so that you can go inside it or I would put you in there and watch you solve puzzles to get peanuts and cakes.<br>
                Abb ulti chije hi aa rahi hai dimag 😂😂<br>
              ---NIKHIL😏</p>
            </div>
        </div>
        </div>
    

        
<!-- cake -->
<div id="cakeContainer" class="cake_1">
    <div class="candle_1"></div>
    <div class="top-layer_1"></div>
    <div class="middle-layer_1"></div>
    <div class="bottom-layer_1"></div>
  </div>
<!-- cake -->



        <!-- card -->
     <div class="card">
        <div class="outside">
          <div class="front_1">
            <p>Happy Birthday</p>
            <div class="cake">
              <div class="top-layer"></div>
              <div class="middle-layer"></div>
              <div class="bottom-layer"></div>
              <div class="candle"></div>
            </div>
          </div>
          <div class="back_1"></div>
        </div>
        <div class="inside">


          <p>SOOO Needu finally Finalyyyyyyy Aaaa hiii gyaa voo dinnn jabbb meriii <b>Strongest</b> naughtyiest choti choti bato parr ladne wali meri cutest dumbest notankiest kut** 😂(sorry 😛 kuch bhi bol deti hai ye gandi juban meri) naii iss jalim duniya mai kadam rakhaaa (Yarr mai kabhi khud hi confuse ho jata hu tere kitne nick name rakhe hai mene Nidhi real name hai na tera? Ruk let me make a list)
           <br>
           &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; && -><small>Logical End operator</small>
            <br>
Yarrr nidhi kya hi likhu tere liye 1 sal mai itna kuchhh 🫠💀 wohaaa yarrr abhi sacchi kuch samaj nahi aa raha itna kuch going on while writing this uprrr sai ladka hu yarr hamm toh hote hi ajib haii 😌 (aur vese bhi sari jaga ye ROLI kha gayi kidrr likhu mai 😏)<br>
Chal yaar! Anyways, I've already written multiple long चिट्ठे to you. If you have them, read those 😬. Still, <b>We are one;and it's our phase😉</b>, and I promise, just as you did when you gave me archies, I will never leave your side until destiny decides.<br>
🎶Ikkk Jindgiiiii meriiiiii....... ikkk ikkk mai puri karaaa🎸 So Sweetheart my babes #Dance with me #Enjoy with me #Share with me #Pagal hone hai toh mere sath ho yar ya apne fav clan ke sath ho ****Sacchi life is very Short for inviting bad mood and giving them space in our mind🎵 <br>

            </p>
          <h2 class="giftbox">🎁</h2>
        </div>
      </div>
  <!-- card -->
   
  <!-- <div style="width:100px;height:100px;position:absolute;"class=" gif">
    <iframe src="https://media.giphy.com/media/qGBEv1LpiGrqK5Uu7H/giphy.gif" width="300%" height="300%" style="position:absolute" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>
</div> -->
  <div class="stickers">
<div style="width:100px;height:100px;position:absolute;" class=" gif"><iframe src="https://giphy.com/embed/qGBEv1LpiGrqK5Uu7H" width="200%" height="200%" style="position:absolute" frameBorder="0" class="giphy-embed" allowFullScreen></iframe></div>

<div style="width:100px;height:100px;position:absolute;" class=" gif_2"><iframe src="https://giphy.com/embed/4nRW5XrruiCXJWo3lo" width="200%" height="200%" style="position:absolute" frameBorder="0" class="giphy-embed" allowFullScreen></iframe></div>

<div style="width:100px;height:100px;position:absolute;" class=" gif_3"><iframe src="https://giphy.com/embed/VjTESsp2gwylqEPXBW" width="150%" height="150%" style="position:absolute" frameBorder="0" class="giphy-embed" allowFullScreen></iframe></div>

<div style="width:100px;height:100px;position:absolute;" class=" gif_4"><iframe src="https://giphy.com/embed/NuF5hql8zhqvq4r9Eg" width="155%" height="155%" style="position:absolute" frameBorder="0" class="giphy-embed" allowFullScreen></iframe></div>

<div style="width:100px;height:100px;position:absolute;" class=" gif_6"><iframe src="https://giphy.com/embed/WgsVx6C4N8tjy" width="100%" height="100%" style="position:absolute" frameBorder="0" class="giphy-embed" allowFullScreen></iframe></div>
  </div>


    <div class="layout">
        <div class="box">Happiest<br />Birthday to my<br />Teddy bear.</div>
    </div>
    
    <div style="width:100px;height:100px;position:absolute;" class=" gif_5"><iframe src="https://giphy.com/embed/YMdExG8wRmNxtMQBJe" width="100%" height="100%" style="position:absolute" frameBorder="0" class="giphy-embed" allowFullScreen></iframe></div>
    
    <svg style="display: none">
        <symbol id="ico-instagram" viewBox="0 0 35 35">
            <circle opacity=".2" cx="17.5" cy="17.5" r="17" stroke="var(--fill)" fill="none"></circle>
            <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M24.944 20.476c.028-.457.042-1.282.042-2.476s-.014-2.019-.042-2.476c-.056-1.09-.378-1.93-.965-2.517s-1.422-.91-2.503-.965C21.018 12.014 20.194 12 19 12s-2.019.014-2.476.042c-1.081.047-1.92.368-2.517.965s-.918 1.436-.965 2.518C13.014 15.98 13 16.805 13 18c0 1.194.014 2.019.042 2.476.047 1.09.368 1.93.965 2.517s1.436.91 2.518.965c.466.028 1.29.042 2.475.042 1.184 0 2.01-.014 2.476-.042 1.072-.047 1.906-.368 2.503-.965.597-.597.918-1.436.965-2.517ZM19 13.075h-1.427c-.186 0-.438.01-.755.029a11.61 11.61 0 0 0-.797.07c-.215.028-.401.08-.56.154-.26.102-.489.251-.685.447-.196.196-.35.425-.461.685-.056.15-.103.336-.14.56a7.843 7.843 0 0 0-.084.811 7.113 7.113 0 0 0-.014.741c.01.178.01.453 0 .826-.01.373-.01.573 0 .601.01.028.01.228 0 .601s-.01.648 0 .826c.01.177.014.424.014.74 0 .318.028.588.084.812l.14.56c.112.26.265.489.461.685.196.196.425.345.685.447.15.056.336.108.56.154.224.047.49.07.797.07.308 0 .56.01.755.028.196.019.471.019.826 0 .354-.019.554-.019.601 0 .047.019.242.019.587 0s.62-.019.826 0c.205.019.456.01.755-.028.298-.037.569-.06.811-.07.242-.01.424-.06.546-.154.26-.102.494-.251.699-.447a1.75 1.75 0 0 0 .447-.686c.056-.149.103-.335.14-.559.038-.224.066-.494.084-.811.019-.317.023-.564.014-.741a11.82 11.82 0 0 1 0-.826c.01-.373.01-.573 0-.601-.01-.028-.01-.228 0-.601s.01-.648 0-.826c-.01-.177-.014-.424-.014-.74 0-.318-.028-.588-.084-.812l-.14-.56a1.956 1.956 0 0 0-1.147-1.133 3.979 3.979 0 0 0-.545-.153 3.915 3.915 0 0 0-.811-.07c-.326 0-.578-.01-.755-.028a5.916 5.916 0 0 0-.826 0c-.372.019-.568.019-.587 0Zm3.706 2.225c.14-.14.21-.308.21-.504a.57.57 0 0 0-.21-.503.767.767 0 0 0-.517-.21.718.718 0 0 0-.504.21.622.622 0 0 0-.21.503c.01.196.08.364.21.504s.299.21.504.21c.205 0 .377-.07.517-.21ZM22.063 18c0 .849-.298 1.576-.895 2.182a2.882 2.882 0 0 1-2.168.895 3.075 3.075 0 0 1-2.182-.895c-.606-.588-.904-1.315-.895-2.182.01-.867.308-1.594.895-2.182.588-.587 1.315-.886 2.182-.895.867-.01 1.59.29 2.168.895.578.606.876 1.333.895 2.182Zm-1.077 0a1.95 1.95 0 0 0-.573-1.413A1.897 1.897 0 0 0 19 16c-.56 0-1.03.196-1.413.587A2.001 2.001 0 0 0 17 18c-.01.55.186 1.021.587 1.413.401.391.872.587 1.413.587.54 0 1.012-.196 1.413-.587.4-.392.592-.863.573-1.413Z"
                transform="translate(-1.5 -0.5)"
                fill="var(--fill)"
            ></path>
        </symbol>
    
        <symbol id="ico-linkedin" viewBox="0 0 35 35">
            <circle opacity=".2" cx="17.5" cy="17.5" r="17" stroke="var(--fill)" fill="none"></circle>
            <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M15.3025 14.0835C15.3025 14.3845 15.1934 14.6403 14.9752 14.851C14.757 15.0617 14.4786 15.167 14.14 15.167C13.8014 15.167 13.5267 15.0617 13.316 14.851C13.1053 14.6403 13 14.3807 13 14.0722C13 13.7637 13.1053 13.5079 13.316 13.3047C13.5267 13.1016 13.8051 13 14.1512 13C14.4974 13 14.772 13.1016 14.9752 13.3047C15.1783 13.5079 15.2874 13.7675 15.3025 14.0835ZM13.0677 23V16.0248H15.2348V23H13.0677ZM16.4763 16.0248C16.5064 16.8676 16.5214 17.6125 16.5214 18.2596V23H18.7111V18.9819C18.7111 18.7111 18.7336 18.5305 18.7788 18.4402C18.9895 17.8984 19.3582 17.6275 19.8849 17.6275C20.6223 17.6275 20.991 18.1317 20.991 19.14V23H23.158V18.8691C23.158 17.8758 22.9285 17.1272 22.4695 16.623C22.0105 16.1189 21.4048 15.8668 20.6524 15.8668C19.6742 15.8668 18.9594 16.243 18.5079 16.9955H18.4628L18.3499 16.0248H16.4763Z"
                transform="translate(0 -1)"
                fill="var(--fill)"
            ></path>
        </symbol>
    </svg>
    
    <div class="cursor"></div>
    <div class="cursor cursor2"></div>
    <!-- partial -->


   
    <footer class="purples">
        <h4>Made with ❤️ by Nikhil & ROLI</h4>
      </footer>
    
     
      <div class="birthdayCard">
        <div class="cardFront">
          <h3 class="happy">GAYEN 💀</h3>
          <div class="balloons">
            <div class="balloon-1">

              <div style="width:100%;height:0;padding-bottom:100%;position:relative;"><iframe src="https://giphy.com/embed/0d4sbRCyviOanhk1EU" width="100%" height="100%" style="position:absolute" frameBorder="0" class="giphy-embed" allowFullScreen></iframe></div>

            </div>
            <div class="balloon-2">

              <div style="width:100%;height:0;padding-bottom:84%;position:relative;"><iframe src="https://giphy.com/embed/VOvZzC4tkYMK5Zf1Wd" width="230%" height="210%" style="position:absolute" frameBorder="0" class="giphy-embed" allowFullScreen></iframe></div>

            </div>
          
          </div>
        </div>
        <div class="cardInside">
        <p class="gay">
          #Subject: The Subtle Art of Not Giving a F*ck
            <br>
           Dear Nidhi,<br>
          Last but not least yarr nidhi gayen dene wale bahut milege iss phase mai toh sach mai bahut jada tbh merako toh ajj kal ittne mil rahe hai kya batau 😂 kuch ko to batane ka try bhi kiya samjane ka bhi kiya but nahiii kaha sudrege yee. So dude jitna mene tuje samja hai kisi ki mt soon tu sab sahi decide karti hai buss take time beacuse koi bhi chij aram sai socho to sab sahi hota hai yarr and you are capable of everything buss take time. Aur kisi ko samajne ki kya jarurat just show them fukin result. Logic is simple yar and even ham kitni barr discuss kar chuke hai in real world nothing works none of our Shitty so called (secret personality) or any attitude. we just need a good circle..... Sooo phoddd deee dude😎<br>
          Yours in celebration<br>
          [NIKHIL] 🎂✨
        </p> 
        
          <p class="name"></p>
        </div>
      </div>

    </div>
  
    <script>

document.getElementById('cakeContainer').addEventListener('click', function() {
  cutCake();
});

function cutCake() {
  // You can modify the cake layers or add animations here
  document.querySelector('.top-layer_1').style.animation = 'cut-animation 2s forwards';
  document.querySelector('.middle-layer_1').style.animation = 'cut-animation 2s 1s forwards';
  document.querySelector('.bottom-layer_1').style.animation = 'cut-animation 2s 2s forwards';
}

function playAudio() {
  var audio = document.querySelector('audio');
  audio.muted = false;
}


// audio design

{
  class AudioPlayer extends HTMLElement {
    playing = false;
    volume = 0.4;
    prevVolume = 0.4;
    initialized = false;
    barWidth = 3;
    barGap = 1;
    bufferPercentage = 75;
    nonAudioAttributes = new Set(['title', 'bar-width', 'bar-gap', 'buffer-percentage']);
    
    constructor() {
      super();
      
      this.attachShadow({mode: 'open'});
      this.render();
    }
    
    static get observedAttributes() {
      return [
        // audio tag attributes
        // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio
        'src', 'muted', 'crossorigin', 'loop', 'preload', 'autoplay',
        // the name of the audio
        'title',
        // the size of the frequency bar
        'bar-width',
        // the size of the gap between the bars
        'bar-gap',
        // the percentage of the frequency buffer data to represent
        // if the dataArray contains 1024 data points only a percentage of data will
        // be used to draw on the canvas
        'buffer-percentage'
      ];
    }
    
    async attributeChangedCallback(name, oldValue, newValue) {
      switch (name) {
        case 'src':
          this.initialized = false;
          this.render();
          this.initializeAudio();
          break;
        case 'muted':
          this.toggleMute(Boolean(this.audio?.getAttribute('muted')));
          break;
        case 'title':
          this.titleElement.textContent = newValue;
          break;
        case 'bar-width':
          this.barWidth = Number(newValue) || 3;
          break;
        case 'bar-gap':
          this.barGap = Number(newValue) || 1;
          break;
        case 'buffer-percentage':
          this.bufferPercentage = Number(newValue) || 75;
          break;
        default:
      }
      
      this.updateAudioAttributes(name, newValue);
    }
    
    updateAudioAttributes(name, value) {
      if (!this.audio || this.nonAudioAttributes.has(name)) return;
      
      // if the attribute was explicitly set on the audio-player tag
      // set it otherwise remove it
      if (this.attributes.getNamedItem(name)) {
        this.audio.setAttribute(name, value ?? '')
      } else {
        this.audio.removeAttribute(name);
      }
    }
    
    initializeAudio() {
      if (this.initialized) return;
      
      this.initialized = true;
      
      this.audioCtx = new AudioContext();
      this.gainNode = this.audioCtx.createGain();
      this.analyserNode = this.audioCtx.createAnalyser();
      this.track = this.audioCtx.createMediaElementSource(this.audio);
      
      this.analyserNode.fftSize = 2048;
      this.bufferLength = this.analyserNode.frequencyBinCount;
      this.dataArray = new Uint8Array(this.bufferLength);
      this.analyserNode.getByteFrequencyData(this.dataArray);
      
      this.track
        .connect(this.gainNode)
        .connect(this.analyserNode)
        .connect(this.audioCtx.destination);
      
      this.changeVolume();
    }
    
    updateFrequency() {
      if (!this.playing) return;
      
      this.analyserNode.getByteFrequencyData(this.dataArray);
      
      this.canvasCtx.clearRect(0, 0, this.canvas.width, this.canvas.height)
      this.canvasCtx.fillStyle = "rgba(0, 0, 0, 0)";
      this.canvasCtx.fillRect(0, 0, this.canvas.width, this.canvas.height);
      
      const barCount = (this.canvas.width / (this.barWidth + this.barGap)) - this.barGap;
      const bufferSize = (this.bufferLength * this.bufferPercentage) / 100;
      let x = 0;
      
      // this is a loss representation of the frequency
      // some data are loss to fit the size of the canvas
      for (let i = 0; i < barCount; i++) {
        // get percentage of i value
        const iPerc = Math.round((i * 100) / barCount);
        // what the i percentage maps to in the frequency data
        const pos = Math.round((bufferSize * iPerc) / 100);
        const frequency = this.dataArray[pos];
        // frequency value in percentage
        const frequencyPerc = (frequency * 100) / 255;
        // frequency percentage value in pixel in relation to the canvas height
        const barHeight = (frequencyPerc * this.canvas.height) / 100;
        // flip the height so the bar is drawn from the bottom
        const y = this.canvas.height - barHeight;
        
        this.canvasCtx.fillStyle = `rgba(${frequency}, 255, 100)`;
        this.canvasCtx.fillRect(x, y, this.barWidth, barHeight);
        
        x += (this.barWidth + this.barGap);
      }
      
      requestAnimationFrame(this.updateFrequency.bind(this))
    }
    
    attachEvents() {
      this.volumeBar.parentNode.addEventListener('click', e => {
        if (e.target === this.volumeBar.parentNode) {
          this.toggleMute();
        }
      }, false);
      
      this.playPauseBtn.addEventListener('click', this.togglePlay.bind(this), false);
      
      this.volumeBar.addEventListener('input', this.changeVolume.bind(this), false);
      
      this.progressBar.addEventListener('input', (e) => this.seekTo(this.progressBar.value), false);
      
      this.audio.addEventListener('loadedmetadata', () => {
        this.progressBar.max = this.audio.duration;
        this.durationEl.textContent = this.getTimeString(this.audio.duration);
        this.updateAudioTime();
      })
      
      this.audio.addEventListener('error', (e) => {
        this.titleElement.textContent = this.audio.error.message;
        this.playPauseBtn.disabled = true;
      })
      
      this.audio.addEventListener('timeupdate', () => {
        this.updateAudioTime(this.audio.currentTime);
      })
      
      this.audio.addEventListener('ended', () => {
        this.playing = false;
        this.playPauseBtn.textContent = 'play';
        this.playPauseBtn.classList.remove('playing');
      }, false);
      
      this.audio.addEventListener('pause', () => {
        this.playing = false;
        this.playPauseBtn.textContent = 'play';
        this.playPauseBtn.classList.remove('playing');
      }, false);
      
      this.audio.addEventListener('play', () => {
        this.playing = true;
        this.playPauseBtn.textContent = 'pause';
        this.playPauseBtn.classList.add('playing');
        this.updateFrequency();
      }, false);
    }
    
    async togglePlay() {
      if (this.audioCtx.state === 'suspended') {
        await this.audioCtx.resume();
      }
      
      if (this.playing) {
        return this.audio.pause();
      }
      
      return this.audio.play();
    }
    
    getTimeString(time) {
      const secs = `${parseInt(`${time % 60}`, 10)}`.padStart(2, '0');
      const min = parseInt(`${(time / 60) % 60}`, 10);
  
      return `${min}:${secs}`;
    }
    
    changeVolume() {
      this.volume = Number(this.volumeBar.value);
      
      if (Number(this.volume) > 1) {
        this.volumeBar.parentNode.className = 'volume-bar over';
      } else if (Number(this.volume) > 0) {
        this.volumeBar.parentNode.className = 'volume-bar half';
      } else {
        this.volumeBar.parentNode.className = 'volume-bar';
      }
      
      if (this.gainNode) {
        this.gainNode.gain.value = this.volume;
      }
    }
    
    toggleMute(muted = null) {
      this.volumeBar.value = muted || this.volume === 0 ? this.prevVolume : 0;
      this.changeVolume();
    }
    
    seekTo(value) {
      this.audio.currentTime = value;
    }
    
    updateAudioTime() {
      this.progressBar.value = this.audio.currentTime;
      this.currentTimeEl.textContent = this.getTimeString(this.audio.currentTime);
    }
    
    style() {
      return `
      <style>
        :host {
          width: 100%;
          max-width: 400px;
          font-family: sans-serif;
        }
        
        * {
            box-sizing: border-box;
        }
        
        .audio-player {
          background: #111;
          border-radius: 5px;
          padding: 5px;
          color: #fff;
          display: flex;
          align-items: center !important;
          position: relative;
          margin: 0 0 25px;
          width: 50%;
          margin-bottom: 32px;
          justify-content: center;
          text-align: center;
          margin-left: 25%;
margin-right: 25%;
        }
        
        .audio-name {
             position: absolute;
            color: #fff;
            padding: 5px 10px;
            font-size: 12px;
            width: 100%;
            left: 0;
            z-index: 2;
            text-transform: capitalize;
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;
            font-weight: 400;
            top: calc(100% + 2px);
            background: #111;
            margin: 0;
            border-radius: 3px;
        }
        
        .play-btn {
            width: 40px;
            min-width: 40px;
            height: 35px;
            background: url("./audio-player-icon-sprite.png") 0 center/500% 100% no-repeat;
            appearance: none;
            border: none;
            text-indent: -999999px;
            overflow: hidden;
        }
        
        .play-btn.playing {
            background: url("./audio-player-icon-sprite.png") 25% center/500% 100% no-repeat;
        }
        
        .volume-bar {
            width: 30px;
            min-width: 30px;
            height: 30px;
            background: url("./audio-player-icon-sprite.png") 50% center/500% 100% no-repeat;
            position: relative;
        }
        
        .volume-bar.half {
            background: url("./audio-player-icon-sprite.png") 75% center/500% 100% no-repeat;
        }
        .volume-bar.over {
            background: url("./audio-player-icon-sprite.png") 100% center/500% 100% no-repeat;
        }
        
        .volume-field {
            display: none;
            position: absolute;
            appearance: none;
            height: 20px;
            right: 100%;
            top: 50%;
            transform: translateY(-50%) rotate(180deg);
            z-index: 5;
            margin: 0;
            border-radius: 2px;
            background: purple;
        }
        
        .volume-field::-webkit-slider-thumb {
            appearance: none;
            height: 20px;
            width: 10px;
            background: #6d78ff;
        }
        
        .volume-field::-moz-range-thumb {
            appearance: none;
            height: 20px;
            width: 10px;
            background: #6d78ff
        }
        
        .volume-field::-ms-thumb  {
            appearance: none;
            height: 20px;
            width: 10px;
            background: #6d78ff
        }
        
        .volume-bar:hover .volume-field {
            display: block;
        }
        
        .progress-indicator {
            display: flex;
            justify-content: flex-end;
            position: relative;
            flex: 1;
            font-size: 12px;
            align-items: center;
            height: 20px;
        }
        
        .progress-bar {
            flex: 1;
            position: absolute;
            top: 50%;
            left: 0;
            z-index: 2;
            transform: translateY(-50%);
            width: 100%;
            appearance: none;
            margin: 0;
            overflow: hidden;
            background: none;
        }
        
        .progress-bar::-webkit-slider-thumb {
            appearance: none;
            height: 20px;
            width: 0;
            box-shadow: -300px 0 0 300px #ffffff38;
        }
        
        .progress-bar::-moz-range-thumb {
            appearance: none;
            height: 20px;
            width: 0;
            box-shadow: -300px 0 0 300px #ffffff21;
        }
        
        .progress-bar::-ms-thumb {
            appearance: none;
            height: 20px;
            width: 0;
            box-shadow: -300px 0 0 300px #ffffff21;
        }
        
        .duration,
        .current-time {
            position: relative;
            z-index: 1;
            text-shadow: 0 0 2px #111;
        }
        
        .duration {
            margin-left: 2px;
            margin-right: 5px;
        }
        
        .duration::before {
            content: '/';
            display: inline-block;
            margin-right: 2px;
        }
        
        canvas {
            position: absolute;
            top: 50%;
            left: 0;
            transform: translateY(-50%);
            opacity: 0.4;
        }
      </style>
    `
    }
    
    render() {
      this.shadowRoot.innerHTML = `
       ${this.style()}
        <figure class="audio-player">
          <figcaption class="audio-name"></figcaption>
          <audio style="display: none"></audio>
          <button class="play-btn" type="button">play</button>
          <div class="progress-indicator">
              <span class="current-time">0:0</span>
              <input type="range" max="100" value="0" class="progress-bar">
              <span class="duration">0:00</span>
              <canvas class="visualizer" style="width: 100%; height: 20px"></canvas>
          </div>
          <div class="volume-bar">
              <input type="range" min="0" max="2" step="0.01" value="${this.volume}" class="volume-field">
          </div>
        </figure>
      `;
      
      this.audio = this.shadowRoot.querySelector('audio');
      this.playPauseBtn = this.shadowRoot.querySelector('.play-btn');
      this.titleElement = this.shadowRoot.querySelector('.audio-name');
      this.volumeBar = this.shadowRoot.querySelector('.volume-field');
      this.progressIndicator = this.shadowRoot.querySelector('.progress-indicator');
      this.currentTimeEl = this.progressIndicator.children[0];
      this.progressBar = this.progressIndicator.children[1];
      this.durationEl = this.progressIndicator.children[2];
      this.canvas = this.shadowRoot.querySelector('canvas');
      
      this.canvasCtx = this.canvas.getContext("2d");
      // support retina display on canvas for a more crispy/HD look
      const scale = window.devicePixelRatio;
      this.canvas.width = Math.floor(this.canvas.width* scale);
      this.canvas.height = Math.floor(this.canvas.height * scale);
      this.titleElement.textContent = this.attributes.getNamedItem('src')
        ? this.attributes.getNamedItem('title').value ?? 'untitled'
        : 'No Audio Source Provided';
      this.volumeBar.value = this.volume;
      
      // if rendering or re-rendering all audio attributes need to be reset
      for (let i = 0; i < this.attributes.length; i++) {
        const attr = this.attributes[i];
        this.updateAudioAttributes(attr.name, attr.value);
      }
      
      this.attachEvents();
    }
  }
  
  customElements.define('audio-player', AudioPlayer);
}
if (window.innerWidth <= 768 && window.innerWidth < window.innerHeight) {
  var mobileWarning = document.querySelector('.mobile-warning');
  if (mobileWarning) {
    mobileWarning.style.display = 'block';
  }

  
}
    </script>
</body>
</html>



    